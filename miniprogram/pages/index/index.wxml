<!-- pages/index/index.wxml -->
<view class="container">
  <view class="header">
    <text class="score">得分: {{score}}</text>
    <button class="restart-btn" bindtap="restart">🔄</button>
  </view>

  <view class="board">
    <block wx:for="{{board}}" wx:key="index">
      <view class="row">
        <block wx:for="{{item}}" wx:key="index">
          <view class="cell value-{{item}}">
            {{item || ''}}
          </view>
        </block>
      </view>
    </block>
  </view>

  <view class="controls">
    <button class="ctrl-btn" bindtap="onUp">↑</button>
    <view class="ctrl-row">
      <button class="ctrl-btn" bindtap="onLeft">←</button>
      <button class="ctrl-btn" bindtap="onDown">↓</button>
      <button class="ctrl-btn" bindtap="onRight">→</button>
    </view>
  </view>

  <view wx:if="{{gameWin}}" class="overlay">🎉 你赢了！</view>
  <view wx:if="{{gameOver}}" class="overlay">💀 游戏结束</view>
</view>